<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link rel="stylesheet" href="WeatherApp.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <title>Weather App</title>
</head>
<body>
  <nav>
    <img src="Weather-logo.webp">
    <li><a href="WeatherApp.html"id="Dashboard"  onmouseover="mouseOver()" onmouseout="mouseOut()">Dashboard</a></li>
    <li><a href="Tables.html" id="Table" onmouseover="mouseOver1()" onmouseout="mouseOut1()">Table</a></li>
  </nav>
<header class="header01">
  <ul>
    <li><a href="WeatherApp.html">Dashboard</a></li>
    <li><a href="Tables.html">Tables</a></li>
  </ul>
  <button class="slidebarbtn">
    <div class="hamburger">
    </div>
  </button>
</header>
  <div class="card">
    <div class="search">
      <input type="text" placeholder="Enter City Name" spellcheck="false">
      <button><img src="search.png"></button>
    </div>
    <div class="error">
      <p>Invalid City Name!</p>
    </div>
    <div class="weather">
      <img src="rain.webp" class="weather-icon">
      <h1 class="temp">22°C</h1>
      <h2 class="city">New York</h2>
      <div class="details">
        <div class="col"><img src="humidity.jpeg" alt="">
          <div>
            <p class="humidity">50%</p>
            <p>Humidity</p>
          </div>
        </div>
        <div class="col"><img src="wind.jpg" alt="">
          <div>
            <p class="wind">15 km/h</p>
            <p>Wind Speed</p>
          </div>
        </div>
        <div class="col"><img src="Description.jpeg" alt="">
          <div>
            <p class="Description">Clear</p>
          </div>
      </div>
       
      </div>
    </div>
  </div>
  <div class="chart">
      <div class="vertical" onmouseover="bigImg(this)" onmouseout="normalImg(this)">
        <canvas id="myChart"></canvas>
    </div>
    <div class="doughnut" onmouseover="bigImg(this)" onmouseout="normalImg(this)">
        <canvas id="doughnutChart"></canvas>
    </div>
    <div class="line" onmouseover="bigImg(this)" onmouseout="normalImg(this)">
      <canvas id="myLineChart"></canvas>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
   $(document).ready(function(){
$('.slidebarbtn').click(function(){
  $('.slidebarbtn').toggleClass('active');
  $('.header01').toggleClass('enjoy');
})
   });
const apiKey="2e56cdc2aebf39c2962d1560e38a3b74 ";
const apiUrl="https://api.openweathermap.org/data/2.5/weather?units=metric&q=";
const searchBox=document.querySelector(".search input");
const search_button=document.querySelector(".search button");
const weatherIcon=document.querySelector(".weather-icon");
async function checkWeather(city) {
  const response=await fetch(apiUrl+city+`&appid=`+apiKey);
  if(response.status==404){
document.querySelector(".error").style.display="block";
document.querySelector(".weather").style.display="none";
  }
  else{
  var data=await response.json();
  console.log(data);
  document.querySelector(".city").innerHTML=data.name;
  document.querySelector(".temp").innerHTML=Math.round(data.main.temp)+`°C`;
  document.querySelector(".humidity").innerHTML=data.main.humidity+`%`;
  document.querySelector(".wind").innerHTML=data.wind.speed+` km/h`;
  document.querySelector(".Description").innerHTML=data.weather[0].main;
  if(data.weather[0].main==="Clouds"){
    weatherIcon.src="cloud.png";
  }
  else if(data.weather[0].main==="Clear"){
    weatherIcon.src="clear.webp";
  }
  else if(data.weather[0].main==="Rain"){
    weatherIcon.src="rain.webp";
  }
  else if(data.weather[0].main==="Mist"){
    weatherIcon.src="mist.png";
  }
  document.querySelector(".weather").style.display="block";
  document.querySelector(".error").style.display="none";
  document.querySelector(".weather").style.display="block";
}
}
search_button.addEventListener("click",()=>{
  checkWeather(searchBox.value);
});
//-------------------------------------------------------
  var ctx = document.getElementById('myChart').getContext('2d');
  const gradientBg=ctx.createLinearGradient(0,0,0,350);
  gradientBg.addColorStop(0.1,'green');
  gradientBg.addColorStop(1,'blue');
  var myChart = new Chart(ctx, {
      type: 'bar',
      data: {
          labels: ['Day 1', 'Day 2', 'Day 3', 'Day 4'],
          datasets: [{
              label: 'Temperature',
              data: [14, 15, 12, 19,20],
              backgroundColor:gradientBg,
              borderColor: [
                  'black',
                  'black',
                  'black',
                  'black',
                  'black',
                  'black'
              ],
              borderWidth: 1
          }]
      },
      options: {
          scales: {
              y: {
                  beginAtZero: true
              }
          }
      }
  });
  const ctx1 = document.getElementById('doughnutChart').getContext('2d');

// Sample data: temperatures for 7 days
const days = ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5'];
const temperatures =[14, 15, 12, 19,20];

const doughnutChart = new Chart(ctx1
, {
    type: 'doughnut',
    data: {
        labels: days,
        datasets: [{
            label: 'Temperature (°C)',
            data: temperatures,
            backgroundColor: [
                '#FF6384',
                '#36A2EB',
                '#FFCE56',
                '#FF9F40',
                '#4BC0C0',
                '#9966FF',
                '#FF5733'
            ],
            hoverOffset: 4
        }]
    },
   options: {
        responsive: true,
        plugins: {
            legend: {
                position: 'top',
            },
            title: {
                display: true,
                text: 'Temperature Over Days'
            }
        }
    }
});
const ctx2 = document.getElementById('myLineChart').getContext('2d');

const myLineChart = new Chart(ctx2, {
    type: 'line',
    data: {
        labels: ['1', '2', '3', '4', '5'],
        datasets: [{
            label: 'Temperature',
            data:[14, 15, 12, 19,20] ,
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
        }]
    },
    options: {
        responsive: true,
        plugins: {
            legend: {
                display: true,
                position: 'top',
            },
            tooltip: {
                mode: 'index',
                intersect: false,
            }
        },
        interaction: {
            mode: 'index',
            intersect: false
        },
        scales: {
            x: {
                title: {
                    display: true,
                    text: 'Days'
                }
            },
            y: {
                title: {
                    display: true,
                },
                beginAtZero: true
            }
        }
    }
});
function bigImg(x) {
  x.style.height = "450px";
  x.style.width = "450px";
}

function normalImg(x) {
  x.style.height = "400px";
  x.style.width = "400px";
}
function mouseOver() {
  document.getElementById("Dashboard").style.color = "black";
}

function mouseOut() {
  document.getElementById("Dashboard").style.color = "white";
}
function mouseOver1() {
  document.getElementById("Table").style.color = "black";
}

function mouseOut1() {
  document.getElementById("Table").style.color = "white";
}
  </script>
</body>

</html>